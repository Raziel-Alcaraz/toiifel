(this.webpackJsonptoiifel=this.webpackJsonptoiifel||[]).push([[0],{19:function(e,t,a){},22:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),c=a(10),i=a.n(c),o=(a(22),a(11)),r=a(12),l=a(14),d=a(13),u=(a.p,a(19),a(4)),j=(a(15),a(16),a(8)),h=a(1),b=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={value:""},n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n}return Object(r.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.value),e.preventDefault()}},{key:"render",value:function(){return Object(h.jsxs)("div",{id:"bienvenida",children:[Object(h.jsx)("h1",{children:"Te damos la bienvenida"}),Object(h.jsx)("p",{children:'Toiifel es un servicio en la nube para parejas que buscan conocerse mejor, pero no encuentran la manera de sacar "ese tema" de conversaci\xf3n que podr\xeda hacer felices a ambas partes.'}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:"Todas las preguntas que respondas son an\xf3nimas, nos respalda una cantidad de tecnolog\xeda impresionante (Firebase, google, CDNs, bases de datos JSON, criptograf\xeda avanzada...) que hace imposible que cualquier otro ser humano tenga acceso a tu identidad, las respuestas que t\xfa y tu pareja viertan aqu\xed y cualquier otro dato sensible sobre tu actividad en este sitio."}),Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:"Para usar la App de Toiifel es necesario iniciar sesi\xf3n con una cuenta de Google (ya sabes, para aprovechar su seguridad de alto nivel). Tambi\xe9n usamos cookies (por si ten\xedas el pendiente). Continuar usando la plataforma implica la aceptaci\xf3n de lo aqu\xed mencionado."}),Object(h.jsx)("button",{id:"siVamos",onClick:this.loguear,children:"S\xed, entrar"})]})}},{key:"loguear",value:function(){console.log("loguieandio");var e=new u.a.auth.GoogleAuthProvider;u.a.auth().signInWithPopup(e).then((function(e){e.credential.accessToken;var t=e.user;console.log("logueado"),console.log(t)})).catch((function(e){e.code,e.message,e.email,e.credential}))}}]),a}(s.a.Component),p=a(26),O=a(25),m=a(18),g=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={name:n.props.name,sex:n.props.sex,tel:n.props.tel,age:n.props.age},n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),Object.keys(n.state).forEach((function(e){n.state[e]||(n.state[e]="")})),console.log("estado"),console.log(n.state),n}return Object(r.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=("checkbox"===t.type?t.checked:t.value,t.name);this.setState(Object(m.a)({},a,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.addData()}},{key:"render",value:function(){return Object(h.jsx)("p",{children:this.props.pregunta})}}]),a}(s.a.Component),x=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).state={name:n.props.name,sex:n.props.sex,tel:n.props.tel,age:n.props.age,preguntas:[]},n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n));var s=[];return Object.keys(n.state).forEach((function(e){n.state[e]||(n.state[e]="")})),console.log("estado"),console.log(n.state),u.a.firestore().collection("preguntas").where("seccion","==",n.props.seccion).orderBy("numero").get().then((function(e){e.forEach((function(e){console.log(e.id," => ",e.data()),s.push(e.get("pregunta")),console.log(s),n.setState({preguntas:s})}))})).catch((function(e){console.log("Error getting documents: ",e)})),n}return Object(r.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=("checkbox"===t.type?t.checked:t.value,t.name);this.setState(Object(m.a)({},a,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.addData()}},{key:"render",value:function(){var e,t=[],a=Object(O.a)(this.state.preguntas.entries());try{for(a.s();!(e=a.n()).done;){var n=Object(p.a)(e.value,2),s=n[0];n[1];t.push(Object(h.jsx)(g,{pregunta:this.state.preguntas[s]}))}}catch(c){a.e(c)}finally{a.f()}return Object(h.jsx)("div",{children:t})}}]),a}(s.a.Component);function v(){console.log("checarperfil"),i.a.render(Object(h.jsx)(C,{revisarPerfil:!0}),document.getElementById("root"))}var f,S=function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(x,{seccion:"1"}),Object(h.jsx)("p",{children:Object(h.jsx)("button",{id:"botonPerfil",onClick:v,children:"Perfil"})})]})},y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={name:n.props.name,sex:n.props.sex,tel:n.props.tel,age:n.props.age},n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),Object.keys(n.state).forEach((function(e){n.state[e]||(n.state[e]="")})),console.log("estado"),console.log(n.state),n}return Object(r.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=("checkbox"===t.type?t.checked:t.value,t.name);this.setState(Object(m.a)({},a,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.addData()}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"estilo",children:[Object(h.jsx)("h1",{children:"Informaci\xf3n b\xe1sica"}),Object(h.jsx)("p",{children:"Esta informaci\xf3n se usar\xe1 \xfanicamente para darte una mejor experiencia de usuario. No se compartir\xe1 con nadie (a menos que t\xfa lo hagas). La \xfanica persona que tendr\xe1 acceso a estos datos es a quien le env\xedes el link personalizado que obtendr\xe1s despu\xe9s de responder, y s\xf3lo podr\xe1 ver las coincidencias positivas (con lo que ambos fantasean) una vez haya respondido las preguntas."}),Object(h.jsx)("form",{onSubmit:this.handleSubmit,children:Object(h.jsx)("table",{children:Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("label",{children:"Nombre:"})}),Object(h.jsx)("td",{})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{}),Object(h.jsx)("td",{className:"response",colSpan:"2",children:Object(h.jsx)("input",{name:"name",type:"text",id:"nombre",value:this.state.name,onChange:this.handleChange})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("label",{children:"Sexo/G\xe9nero:"})}),Object(h.jsx)("td",{})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{}),Object(h.jsx)("td",{children:Object(h.jsxs)("select",{name:"sex",id:"sex",value:this.state.sex,onChange:this.handleChange,children:[Object(h.jsx)("option",{value:"hombre",children:"Hombre"}),Object(h.jsx)("option",{value:"mujer",children:"Mujer"}),Object(h.jsx)("option",{value:"mujerT",children:"Mujer trans"}),Object(h.jsx)("option",{value:"hombreT",children:"Hombre trans"})]})})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("label",{children:"Edad:"})}),Object(h.jsx)("td",{})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{}),Object(h.jsx)("td",{children:Object(h.jsxs)("select",{name:"age",id:"age",value:this.state.age,onChange:this.handleChange,children:[Object(h.jsx)("option",{value:"22",children:"18-22"}),Object(h.jsx)("option",{value:"27",children:"23-27"}),Object(h.jsx)("option",{value:"32",children:"28-32"}),Object(h.jsx)("option",{value:"37",children:"33-37"}),Object(h.jsx)("option",{value:"42",children:"38-42"}),Object(h.jsx)("option",{value:"47",children:"43-47"}),Object(h.jsx)("option",{value:"52",children:"48-52"}),Object(h.jsx)("option",{value:"60",children:"+52"})]})})]}),Object(h.jsx)("tr",{children:Object(h.jsx)("td",{children:Object(h.jsx)("label",{children:"Tel\xe9fono (para recibir sugerencias cuando implementemos la funci\xf3n):"})})}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{}),Object(h.jsx)("td",{className:"response",colSpan:"2",children:Object(h.jsx)("input",{name:"tel",type:"text",id:"tel",value:this.state.tel,onChange:this.handleChange})})]}),Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colSpan:"2",children:Object(h.jsx)("button",{type:"submit",value:"Submit",children:"Enviar"})})})]})})})]})}},{key:"addData",value:function(){u.a.firestore().collection("users").doc(this.props.usuario.uid).set(this.state).then((function(){console.log("Document successfully written!"),i.a.render(Object(h.jsx)(C,{revisarPerfil:!1}),document.getElementById("root"))})).catch((function(e){console.error("Error writing document: ",e),i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(C,{})}),document.getElementById("root"))}))}}]),a}(s.a.Component);function k(){var e=this;u.a.auth().signOut().then((function(){e.setState({pantallaPorMostrar:"Login"})})).catch((function(e){}))}u.a.apps.length?u.a.app():u.a.initializeApp({apiKey:"AIzaSyDQmM42egpxzQDYNqPUTva6cN8X7ib3AKQ",authDomain:"toiifel.firebaseapp.com",projectId:"toiifel",storageBucket:"toiifel.appspot.com",messagingSenderId:"1005717204337",appId:"1:1005717204337:web:2e92476eb59e57eba45ad0",measurementId:"G-HBZWGPSF73"});var C=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={pantallaPorMostrar:Object(h.jsx)(b,{})},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.revisarPerfil);var t=u.a.firestore();u.a.auth().onAuthStateChanged((function(a){if(console.log("userchanged"),a){a.uid;f=a,console.log(a),t.collection("users").doc(a.uid).get().then((function(t){t.exists?(console.log("Document data:",t.data()),1==e.props.revisarPerfil?(e.setState({age:t.get("age"),name:t.get("name"),sex:t.get("sex"),tel:t.get("tel")}),e.setState({pantallaPorMostrar:"Registro"})):e.setState({pantallaPorMostrar:"Root"})):(console.log("No such document!"),e.setState({pantallaPorMostrar:"Registro"}))})).catch((function(t){e.setState({pantallaPorMostrar:"ERROR"})}))}else e.setState({pantallaPorMostrar:"Login"})}))}},{key:"render",value:function(){return"Login"===this.state.pantallaPorMostrar?Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{className:"App-header"}),Object(h.jsx)("div",{id:"paginaprincipal",className:"Ap-corpus",children:Object(h.jsx)(b,{})}),Object(h.jsx)("div",{id:"bottom",className:"Ap-bottom"})]}):"Root"===this.state.pantallaPorMostrar?Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{className:"App-header",children:Object(h.jsx)("button",{onClick:k,id:"Salir",children:"Salir"})}),Object(h.jsx)("div",{id:"paginaprincipal",className:"Ap-corpus",children:Object(h.jsx)(S,{})}),Object(h.jsx)("div",{id:"bottom",className:"Ap-bottom"})]}):"Registro"===this.state.pantallaPorMostrar?Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{className:"App-header",children:Object(h.jsx)("button",{onClick:k,id:"Salir",children:"Salir"})}),Object(h.jsx)("div",{id:"paginaprincipal",className:"Ap-corpus",children:Object(h.jsx)(y,{usuario:f,age:this.state.age,name:this.state.name,sex:this.state.sex,tel:this.state.tel})}),Object(h.jsx)("div",{id:"bottom",className:"Ap-bottom"})]}):Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{className:"App-header"}),Object(h.jsx)("div",{id:"paginaprincipal",className:"Ap-corpus",children:Object(h.jsx)(b,{})}),Object(h.jsx)("div",{id:"bottom",className:"Ap-bottom"})]})}}]),a}(s.a.Component),N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,35)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};u.a.apps.length?u.a.app():u.a.initializeApp({apiKey:"AIzaSyDQmM42egpxzQDYNqPUTva6cN8X7ib3AKQ",authDomain:"toiifel.firebaseapp.com",projectId:"toiifel",storageBucket:"toiifel.appspot.com",messagingSenderId:"1005717204337",appId:"1:1005717204337:web:2e92476eb59e57eba45ad0",measurementId:"G-HBZWGPSF73"}),i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(C,{})}),document.getElementById("root")),N()}},[[34,1,2]]]);
//# sourceMappingURL=main.a89403c5.chunk.js.map